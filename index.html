<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Flume</title>
    <meta charset="UTF+2" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/x-icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/x-icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/x-icon/favicon-16x16.png">
    <link rel="manifest" href="images/x-icon/site.webmanifest">
    <link rel="stylesheet" href="css/style.css" />

    
     
                   <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
                   type="application/javascript"></script>
                   <script >
                       async function mint(){
                         if (typeof window.ethereum !== 'undefined'
                       || (typeof window.web3 !== 'undefined')) {
                               const contractAddress ='0x2659720FecB134F5d2b86DCC45b50640Dc1fF337';
                               const provider = new ethers.providers.Web3Provider(window.ethereum)
                                   // MetaMask requires requesting permission to connect users accounts
                               await provider.send("eth_requestAccounts", []);
                               const signer = provider.getSigner();
                                   const abi = [{
                                           "inputs": [],
                                           "name": "mintRandom",
                                           "outputs": [],
                                           "stateMutability": "payable",
                                           "type": "function"
                                           },
                                           {
                                               "inputs": [],
                                               "name": "mintFee",
                                               "outputs": [
                                                   {
                                                       "internalType": "uint256",
                                                       "name": "",
                                                       "type": "uint256"
                                                   }
                                               ],
                                               "stateMutability": "view",
                                               "type": "function"
                                           }
                                       ];
           
                               const contract = new ethers.Contract(contractAddress, abi, signer );
                               const fee =  await contract.mintFee();
                               var data = contract.mintRandom({ value: fee} );
                           }
                           else {
                               alert('Metamask is not installed!')
                           }
                           
                       }
                     
                   </script>
               


  </head>
  <body>
    <header>
      <div class="container">
        <div class="logo">
          <a href="/">
            <img src="images/x-icon/favicon-32x32.png" alt="logo" />
          </a>
        </div>
        <div class="menu">
          <a
            href="https://discord.gg/vxSJggZc4D"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img src="images/header/discord.webp" alt="Discord" />
          </a>
          <a
            href="https://twitter.com/flumenft"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img src="images/header/twitter.webp" alt="Twitter" />
          </a>
          <a
            href="https://opensea.io/collection/ugly-fish-v3"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img src="images/header/opensea.webp" alt="Opensea" />
          </a>
          <button class="wallet-btn btn" id="connectWallet">
            <span>Connect Wallet</span>
          </button>
        </div>
      </div>
    </header>

    <section class="container">
      <div class="owner-status"></div>
      <div class="countdown">
        <ul
          id="countdown"
          class="count-down"
          data-date="Sep 17, 2022 4:00:00 PM UTC"
        >
          <li class="clock-item">
            <span class="count-number days">20</span>
            <p class="count-text">Days</p>
          </li>

          <li class="clock-item">
            <span class="count-number hours">20</span>
            <p class="count-text">Hour</p>
          </li>

          <li class="clock-item">
            <span class="count-number minutes">20</span>
            <p class="count-text">Min</p>
          </li>

          <li class="clock-item">
            <span class="count-number seconds">20</span>
            <p class="count-text">Sec</p>
          </li>
        </ul>
        <h1>NFT Drop Available!!</h1>
               
        <p>A new batch of ugly fish is available now!</p>
        <button onclick="javascript:mint()" class="hero-btn btn"> Mint your NFT</button>
      </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/@metamask/onboarding@1.0.1/dist/metamask-onboarding.bundle.js"></script>
    <script src="js/countdown.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
